{"mappings":";AAAA,aAAa;AAEb,MAAM,qCAAe,CAAC;IACpB,MAAM,SAAS,IAAI,cAAc,MAAM,CAAC;IACxC,MAAM,UAAU,4BAAM,OAAO,MAAM,GAAG,IAAI,6BAA6B;IACvE,IAAI,WAAW,GACb,MAAM;IAER,MAAM,QAAQ,IAAI,WAChB,6BAAO,MAAM,EACb,SACA,OAAO,MAAM,GAAG;IAElB,MAAM,GAAG,CAAC;IACV,KAAK,CAAC,OAAO,MAAM,CAAC,GAAG,GAAG,yCAAyC;IACnE,OAAO;AACT;AAEA,MAAM,qCAAe,CAAC,SAAS;IAC7B,MAAM,QAAQ,IAAI,WAChB,6BAAO,MAAM,EACb,SACA;IAEF,OAAO,IAAI,cAAc,MAAM,CAAC;AAClC;AAEA,MAAM,EACJ,UAAU,EACR,SAAS,UAAE,4BAAM,YAAE,8BAAQ,SAAE,2BAAK,EAAE,EACrC,EACF,GAAG,MAAM,YAAY,oBAAoB,CAAC,MAAM,sBAAsB;IACrE,KAAK;QACH,OAAO,CAAC,SAAS;YACf,MAAM,SAAS,mCAAa,SAAS;YACrC,QAAQ,GAAG,CAAC,CAAC,EAAE,OAAO,CAAC;QACzB;IACF;AACF;AAEA,QAAQ,GAAG,CAAC,+BAAS,mCAAa;AAElC,IAAI,8BAAQ,OAAO,QAAQ,CAAC,cAAc,CAAC;AAC3C,IAAI,+BAAS,OAAO,QAAQ,CAAC,cAAc,CAAC;AAC5C,IAAI,6BAAO,OAAO,QAAQ,CAAC,cAAc,CAAC;AAE1C,2BAAK,gBAAgB,CAAC,UAAU;AAEhC,SAAS,wCAAkB,CAAC;IAC1B,EAAE,cAAc;IAChB,4BAAM,KAAK,GAAG,+BAAS,mCAAa,4BAAM,KAAK;AACjD","sources":["src/js/main.js"],"sourcesContent":["// export {};\n\nconst encodeString = (string) => {\n  const buffer = new TextEncoder().encode(string);\n  const pointer = alloc(buffer.length + 1); // ask Zig to allocate memory\n  if (pointer == 0) {\n    throw allocationFailed;\n  }\n  const slice = new Uint8Array(\n    memory.buffer, // memory exported from Zig\n    pointer,\n    buffer.length + 1\n  );\n  slice.set(buffer);\n  slice[buffer.length] = 0; // null byte to null-terminate the string\n  return pointer;\n};\n\nconst decodeString = (pointer, length) => {\n  const slice = new Uint8Array(\n    memory.buffer, //\n    pointer,\n    length\n  );\n  return new TextDecoder().decode(slice);\n};\n\nconst {\n  instance: {\n    exports: { memory, evaluate, alloc },\n  },\n} = await WebAssembly.instantiateStreaming(fetch(\"./Calculator.wasm\"), {\n  env: {\n    print: (pointer, length) => {\n      const string = decodeString(pointer, length);\n      console.log(`${string}`);\n    },\n  },\n});\n\nconsole.log(evaluate(encodeString(\"10+10\")));\n\nvar input = window.document.getElementById(\"input\");\nvar button = window.document.getElementById(\"submit\");\nvar form = window.document.getElementById(\"form\");\n\nform.addEventListener(\"submit\", processSubmission);\n\nfunction processSubmission(e) {\n  e.preventDefault();\n  input.value = evaluate(encodeString(input.value));\n}\n"],"names":[],"version":3,"file":"index.806679d4.js.map"}